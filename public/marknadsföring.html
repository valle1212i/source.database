<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Marknadsf√∂ring</title>
  <link rel="stylesheet" href="CSS/marknadsf√∂ring.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
</head>
<body>
  <div class="sidebar">
    <div class="logo">
      <a href="customerportal.html">
        <img src="images/logo.png" alt="Logotyp" class="logo-img" />
      </a>
    </div>
    <ul class="nav-menu">
      <li><a href="customerportal.html"><i class="fas fa-home"></i> Hem</a></li>
      <li><a href="betalningar.html"><i class="fas fa-credit-card"></i> Betalningar</a></li>
      <li><a href="kontakt.html"><i class="fas fa-envelope"></i> Kontakt</a></li>
      <li><a href="rapporter.html"><i class="fas fa-chart-line"></i> Rapporter</a></li>
      <li><a href="fakturor.html"><i class="fas fa-file-invoice"></i> Fakturor</a></li>
      <li><a href="kunder.html"><i class="fas fa-users"></i> Kunder</a></li>
      <li><a href="analytics.html"><i class="fas fa-chart-pie"></i> Analyser</a></li>
      <li class="active"><a href="marknadsforing.html"><i class="fas fa-bullhorn"></i> Marknadsf√∂ring</a></li>
      <li><a href="inventarier.html"><i class="fas fa-box"></i> Inventarier</a></li>
      <li><a href="installningar.html"><i class="fas fa-cog"></i> Inst√§llningar</a></li>
    </ul>
    <div class="help">
      <a href="faq.html"><i class="fas fa-question-circle"></i> Hj√§lp</a>
    </div>
  </div>

  
  <main class="main">
    <h1 class="page-title">Marknadsf√∂ring</h1>
    <p class="subtitle">Utforska verktyg f√∂r annonsering, design och r√•dgivning.</p>

    <section class="card">
      <h2><i class="fas fa-edit"></i> Dina marknadsf√∂ringsval</h2>
      <form id="marketingForm">
        <label>
          üì¢ Plattformar:
          <select name="platforms" multiple>
            <option value="Google Ads">Google Ads</option>
            <option value="Meta Ads">Meta Ads</option>
            <option value="TikTok Ads">TikTok Ads</option>
            <option value="LinkedIn Ads">LinkedIn Ads</option>
          </select>
        </label>
        <br /><br />
        <label>
          üéØ M√•l:
          <input type="text" name="goals" placeholder="Ex: Fler leads, mer trafik..." />
        </label>
        <br /><br />
        <label>
          üí¨ Kommentar:
          <textarea name="comment" rows="3" placeholder="Ber√§tta mer om vad du √∂nskar..."></textarea>
        </label>
        <br /><br />
        <button type="submit">üíæ Spara inst√§llningar</button>
        <div id="saveStatus" style="margin-top: 10px;"></div>
      </form>
    </section>

   <section class="card automatiska-annonser">
  <h2><i class="fas fa-robot"></i> Automatiska annonser</h2>
  <p>V√§lj plattform f√∂r att skapa kampanjer:</p>
  
  <div class="button-group">
    <a href="googleads.html" class="ad-button google" title="Skapa Google Ads-kampanj">
      <img src="images/Google_transparent (2).png" alt="Google Ads" />
    </a>

    <a href="metaads.html" class="ad-button meta" title="Skapa Meta Ads-kampanj">
      <img src="images/Meta_transparent.png" alt="Meta Ads" />
    </a>

    <a href="tiktokads.html" class="ad-button tiktok" title="Skapa TikTok Ads-kampanj">
      <img src="images/Tiktok_transparent.png" alt="TikTok Ads" />
    </a>

    <a href="linkedin.html" class="ad-button linkedin" title="Skapa LinkedIn Ads-kampanj">
      <img src="images/Linked in.webp" alt="LinkedIn Ads" />
    </a>
  </div>
</section>


    <section class="card ai-background ai-card">
      <div>
       <h2><i class="fas fa-image"></i> Skapa bilder eller videor</h2>
        <p>Ladda upp en bild eller skriv en beskrivning f√∂r att generera affischer, annonser eller videos med hj√§lp av AI.</p>
        <button class="ai-button" onclick="window.location.href='ai-marknadsstudio.html'" title="Starta AI-studion">
          Starta AI-studiot
        </button>
      </div>
      <img src="images/abstract-ai.svg" alt="AI grafik" />
    </section>

   <section class="card support-highlight">
  <h2><i class="fas fa-users"></i> R√•dgivning & Support</h2>
  <p>Vill du ha hj√§lp av en designexpert? Kontakta v√•r marknadsr√•dgivare.</p>
  <button onclick="window.location.href='bokning-marknadsradgivare.html'" title="Boka r√•dgivning med expert">
    Boka r√•dgivning
  </button>
</section>


  <script>
    function openTool(button, platform) {
      const originalContent = button.innerHTML;

      button.innerHTML += `<span class="spinner"></span>`;
      button.disabled = true;
      button.style.opacity = 0.7;

      setTimeout(() => {
        alert("√ñppnar " + platform + " verktyg...");
        button.innerHTML = originalContent;
        button.disabled = false;
        button.style.opacity = 1;
      }, 1000);
    }
  </script>
  <script>
    document.getElementById("marketingForm").addEventListener("submit", async function (e) {
      e.preventDefault();
  
      const status = document.getElementById("saveStatus");
      status.textContent = "‚è≥ Sparar...";
  
      try {
        const res = await fetch("/api/customers/me");
        const customer = await res.json();
        if (!customer._id) throw new Error("Kund saknas");
  
        const form = e.target;
        const platforms = Array.from(form.platforms.selectedOptions).map(opt => opt.value);
  
        const payload = {
          platforms,
          goals: form.goals.value,
          comment: form.comment.value
        };
  
        const putRes = await fetch(`/api/customers/${customer._id}/marketing`, {
          method: "PUT",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify(payload)
        });
  
        const result = await putRes.json();
        status.textContent = result.success ? "‚úÖ Sparat!" : "‚ùå Kunde inte spara.";
      } catch (err) {
        console.error("‚ùå Fel vid sparande:", err);
        status.textContent = "‚ùå Tekniskt fel, f√∂rs√∂k igen.";
      }
    });
  </script>  
</body>
</html>
