/* =========================
   Betalningar – förbättrad
   ========================= */

/* ---------- Layout ---------- */
.main{
  margin-left:240px;
  flex:1 1 auto;
  padding:40px;
  color:var(--text);
  /* VIKTIGT: ingen egen bakgrund/gradient här så menyn ser likadan ut */
  background: var(--bg);
}
.header{
  font-size:28px;
  font-weight:700;
  margin-bottom:30px;
  color:var(--text);
}

/* ---------- Grid ---------- */
.grid{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap:22px;
}

/* ---------- Profilmeny ---------- */
.profile-wrapper{ position:fixed; top:20px; right:30px; z-index:1100; }
.profile-icon{
  width:40px; height:40px; border-radius:50%;
  overflow:hidden; background:transparent;
  border:1px solid var(--card-border);
  box-shadow:0 2px 6px rgba(0,0,0,.18);
  transition:transform .2s ease;
  cursor:pointer; display:flex; align-items:center; justify-content:center;
}
.profile-icon img{ width:100%; height:100%; object-fit:cover; display:block; }
.profile-icon.open{ transform:scale(1.08); }

.profile-dropdown{
  position:absolute; top:52px; right:0;
  background:var(--card); color:var(--text);
  border:1px solid var(--card-border);
  border-radius:12px; padding:12px; width:220px; display:none; flex-direction:column;
  box-shadow:0 10px 28px rgba(0,0,0,.14); z-index:1110;
  backdrop-filter:saturate(1.1) blur(6px);
}
.profile-dropdown a{
  text-decoration:none; color:var(--text);
  padding:8px 6px; border-radius:8px; transition:background .18s ease, padding-left .18s ease;
}
.profile-dropdown a:hover{
  background:color-mix(in srgb, var(--card) 82%, var(--bg) 18%);
  padding-left:10px;
}
.profile-email{ color:var(--muted); font-size:13px; margin-bottom:8px; }

/* ---------- Kort ---------- */
.card{
  background:var(--card);
  color:var(--text);
  border:1px solid var(--card-border);
  border-radius:14px;
  padding:20px;
  box-shadow:0 6px 14px rgba(0,0,0,.06);
  transition:transform .18s ease, box-shadow .22s ease, border-color .18s ease;
  will-change: transform;
}
.card:hover{
  transform:translateY(-4px);
  box-shadow:0 14px 28px rgba(0,0,0,.12);
  border-color:color-mix(in srgb, var(--card-border) 40%, var(--text) 60%);
}
.card h3{ font-size:18px; margin-bottom:10px; color:var(--text); }
.card p, .card ul{ font-size:14px; color:var(--muted); }
.card ul{ list-style:disc; padding-left:20px; margin-top:5px; }

/* Varianter */
.card.wide{ grid-column: span 2; }
.card.large{ grid-column: span 2; min-height:300px; }
.card.tall{ min-height:360px; }
.card.match-height{ min-height:360px; }

/* ---------- KPI/diagram (“circle-widget”) ---------- */
.circle-widget{
  display:flex; justify-content:space-between; align-items:flex-start;
  grid-column: span 3;
  min-height:220px; padding:26px; gap:20px;
}
.chart-area{ width:60%; }
.sales-info{ width:40%; padding-left:22px; padding-top:6px; }
.sales-info h3{ font-size:20px; font-weight:700; margin-bottom:6px; color:var(--text); }
.title-underline, .amount-underline{
  height:3px; border:none; background-color:#3b82f6;
  width:100%; max-width:200px; margin:6px 0 12px 0;
}
.sales-info .amount{
  font-size:20px; font-weight:800; color:var(--text);
}
.circle-widget canvas{ width:100%; max-width:100%; height:auto; }

/* ---------- Highlights ---------- */
.live-chat.dark{ background:#0f172a; color:#e5e7eb; border:1px solid #1f2937; }
.live-chat.dark h3{ color:#6ee7b7; }
.ai-assistant{
  background:linear-gradient(180deg, #e0f2fe, #f0f9ff);
  border-left:4px solid #3b82f6;
}

/* ---------- Status-badges ---------- */
.status{
  display:inline-flex; align-items:center; gap:6px;
  padding:6px 10px; border-radius:999px; font-size:13px; font-weight:700;
  background:color-mix(in srgb, var(--brand, #3b82f6) 14%, var(--card) 86%);
  color:color-mix(in srgb, var(--brand, #3b82f6) 80%, #0b1020 20%);
  border:1px solid color-mix(in srgb, var(--brand, #3b82f6) 32%, var(--card-border) 68%);
}
.status.open{
  background:color-mix(in srgb, #3b82f6 16%, var(--card) 84%);
  color:#1e3a8a;
  border-color:color-mix(in srgb, #3b82f6 38%, var(--card-border) 62%);
}
.status.progress{
  background:color-mix(in srgb, #34d399 18%, var(--card) 82%);
  color:#065f46;
  border-color:color-mix(in srgb, #34d399 40%, var(--card-border) 60%);
}

/* ---------- Filterfält ---------- */
.filters{
  display:flex; flex-wrap:wrap; gap:10px; margin-bottom:20px;
}
.filters input, .filters select, .filters button{
  padding:10px 12px; font-size:14px; border-radius:10px;
  border:1px solid var(--input-border);
  background:var(--input-bg); color:var(--text);
  transition:border-color .16s ease, box-shadow .18s ease;
}
.filters input:focus, .filters select:focus{
  outline:none; border-color:var(--input-focus);
  box-shadow:0 0 0 3px color-mix(in srgb, var(--input-focus) 34%, transparent);
}

/* ---------- Knappar ---------- */
.black-button{
  background:#111827; color:#fff; border:1px solid transparent;
  padding:10px 14px; border-radius:12px; cursor:pointer;
  transition:background .18s ease, transform .06s ease, box-shadow .18s ease;
  box-shadow:0 4px 12px rgba(0,0,0,.14);
}
.black-button:hover{ background:#1f2937; }
.black-button:active{ transform:translateY(1px); }
.black-button:focus-visible{
  outline:3px solid color-mix(in srgb, var(--brand, #3b82f6) 70%, #fff 30%);
  outline-offset:2px;
}

/* Primärknapp (valfri) */
.btn-brand{
  background:var(--brand);
  color:#fff; border:1px solid transparent;
  padding:10px 14px; border-radius:12px; cursor:pointer;
  box-shadow:0 8px 22px color-mix(in srgb, var(--brand) 30%, transparent);
  transition:filter .18s ease, transform .06s ease, box-shadow .18s ease;
}
.btn-brand:hover{ filter:brightness(.97); }
.btn-brand:active{ transform:translateY(1px); }

/* “Tillbaka” */
.back-button{
  display:inline-block; margin-bottom:20px; font-size:14px;
  color:#3b82f6; text-decoration:none; font-weight:600;
}
.back-button:hover{ text-decoration:underline; }

/* ---------- Modal ---------- */
.modal{
  display:none; position:fixed; inset:0; z-index:1300;
  background:rgba(0,0,0,.45);
}
.modal-content{
  background:var(--card); color:var(--text);
  border:1px solid var(--card-border);
  border-radius:14px; padding:20px; width:92%; max-width:520px;
  margin:10% auto; box-shadow:0 18px 40px rgba(0,0,0,.24);
}
.close{
  color:var(--muted); float:right; font-size:28px; font-weight:700;
  cursor:pointer; border-radius:8px; padding:0 6px;
}
.close:hover, .close:focus{
  color:var(--text);
  background:color-mix(in srgb, var(--card) 86%, var(--text) 14%);
}

/* ---------- Hamburger (visas bara på mobil) ---------- */
.hamburger-menu{ display:none; }

/* För mindre skärmar – låt THEME.CSS styra SIDEBAR
   (inga lokala .sidebar-regler här!) */
@media (max-width: 1024px){
  .grid{ grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); }
}

@media (max-width: 768px){
  .hamburger-menu{
    display:block; position:fixed; top:20px; left:20px; z-index:1400;
    font-size:28px; background:none; border:none; color:#1f2937; cursor:pointer;
  }
  body.menu-open .hamburger-menu{ color:#fff; }

  .main{ margin-left:0; padding:24px 16px; }
  .header, .main h1{ margin-left:48px; }

  /* circle-widget staplas snyggt */
  .circle-widget{
    grid-column:auto; flex-direction:column; gap:18px; padding:20px;
  }
  .chart-area, .sales-info{ width:100%; padding-left:0; }
}

/* ---------- Tillgänglighet & motion ---------- */
:focus-visible{
  outline:3px solid color-mix(in srgb, var(--brand, #3b82f6) 70%, #fff 30%);
  outline-offset:2px;
}
@media (prefers-reduced-motion: reduce){
  *{ transition:none !important; animation:none !important; }
}
