/* ====== MAIN CONTENT ====== */
.main{
  margin-left:240px;
  flex-grow:1;
  padding:40px;
  min-height:100vh;
  color:var(--text);
}

/* ====== HEADER / TITEL ====== */
.header{
  font-size:28px;
  font-weight:700;
  margin-bottom:6px;
  color:var(--text);
}
.subtitle{
  font-size:1rem;
  color:var(--muted);
  margin-bottom:22px;
}

/* ====== PROFIL (uppe till höger) ====== */
.profile-wrapper{
  position:fixed;
  top:18px;
  right:24px;
  z-index:1001;
}
.profile-icon{
  width:40px;height:40px;border-radius:50%;
  overflow:hidden;background:transparent;
  box-shadow:0 2px 6px rgba(0,0,0,.2);
  transition:transform .2s ease;cursor:pointer;
  display:flex;align-items:center;justify-content:center;
  border:1px solid var(--card-border);
}
.profile-icon img{width:100%;height:100%;object-fit:cover;display:block;}
.profile-icon.open{transform:scale(1.08);}

.profile-dropdown{
  position:absolute;top:52px;right:0;
  background:var(--card);color:var(--text);
  border-radius:12px;padding:12px;width:220px;display:none;flex-direction:column;
  box-shadow:0 10px 28px rgba(0,0,0,.14);
  border:1px solid var(--card-border);
}
.profile-dropdown a{ text-decoration:none;color:var(--text);padding:8px 6px;border-radius:8px; }
.profile-dropdown a:hover{ background:color-mix(in srgb, var(--card) 80%, var(--bg) 20%); }
.profile-email{ color:var(--muted); font-size:13px; margin-bottom:8px; }

/* ====== TOPP + PILLER ====== */
.invoices-topbar{
  display:flex; align-items:center; justify-content:space-between;
  gap:16px; margin-bottom:16px;
}
.pill-group{ display:flex; gap:12px; flex-wrap:wrap; }
.tab-pill{
  padding:10px 16px; border:1px solid var(--card-border);
  background:var(--card); color:var(--text); cursor:pointer;
  border-radius:999px; font-weight:700; line-height:1;
  box-shadow:0 1px 2px rgba(0,0,0,.04);
  transition:background .2s ease, border-color .2s ease, transform .06s ease;
}
.tab-pill:hover{ background:color-mix(in srgb, var(--card) 86%, var(--bg) 14%); }
.tab-pill:active{ transform:translateY(1px); }
.tab-pill.active{
  background:var(--brand); color:#fff; border-color:transparent;
  box-shadow:0 8px 22px color-mix(in srgb, var(--brand) 26%, transparent);
}

/* ====== KNAPPAR ====== */
.btn-primary{
  padding:12px 18px; border-radius:12px; font-weight:700;
  background:var(--brand); color:#fff; border:none; cursor:pointer;
  box-shadow:0 8px 24px color-mix(in srgb, var(--brand) 28%, transparent);
  transition:filter .2s ease, transform .06s ease;
}
.btn-primary:hover{ filter:brightness(.96); }
.btn-primary:active{ transform:translateY(1px); }

.btn-ghost{
  border:1px dashed var(--card-border);
  background:transparent; color:var(--text); cursor:pointer;
  padding:8px 12px; border-radius:10px; font-weight:600;
}
.btn-ghost:hover{ background:color-mix(in srgb, var(--card) 85%, var(--bg) 15%); }

/* ====== TVÅSPALT ====== */
.invoices-layout{
  display:grid; grid-template-columns: 1.4fr .9fr; gap:20px;
}
.invoices-panel{ display:flex; flex-direction:column; gap:16px; }
.create-panel{
  background:var(--card); border:1px solid var(--card-border);
  border-radius:12px; padding:16px; align-self:start;
  box-shadow:0 2px 12px rgba(0,0,0,.06);
}
.create-panel h2{ font-size:18px; font-weight:700; margin:2px 0 12px; }

/* ====== TABELL ====== */
.invoice-table{
  width:100%; border-collapse:collapse;
  background:var(--card); border-radius:12px; overflow:hidden;
  box-shadow:0 2px 12px rgba(0,0,0,.05);
  border:1px solid var(--card-border);
}
.invoice-table th, .invoice-table td{
  padding:14px 18px; text-align:left; border-bottom:1px solid var(--card-border);
  color:var(--text);
}
.invoice-table th{
  background:color-mix(in srgb, var(--card) 82%, var(--bg) 18%);
  font-weight:700;
}
.invoice-table tr:hover{ background:color-mix(in srgb, var(--card) 88%, var(--bg) 12%); }
.invoice-table th:last-child, .invoice-table td:last-child{ width:56px; }

/* ====== STATUS-BADGES ====== */
.badge{
  display:inline-block; padding:6px 10px; border-radius:999px;
  font-weight:700; font-size:.85rem; line-height:1;
  border:1px solid var(--card-border);
}
.badge-paid{
  background:color-mix(in srgb, #10b981 18%, var(--card));
  color:#065f46;
}
.badge-unpaid{
  background:color-mix(in srgb, #f59e0b 18%, var(--card));
  color:#7c4b00;
}
.badge-overdue{
  background:color-mix(in srgb, #ef4444 18%, var(--card));
  color:#7f1d1d;
}

/* ====== IKONKNAPP (nedladdning) ====== */
.icon-btn{
  width:36px; height:36px; border-radius:10px;
  display:inline-flex; align-items:center; justify-content:center;
  border:1px solid var(--card-border); background:var(--card); cursor:pointer;
  box-shadow:0 1px 2px rgba(0,0,0,.05);
}
.icon-btn:hover{ background:color-mix(in srgb, var(--card) 86%, var(--bg) 14%); }

/* ====== “KORT” – Förhandsvisning ====== */
.card{
  background:var(--card); border:1px solid var(--card-border);
  border-radius:12px; box-shadow:0 2px 12px rgba(0,0,0,.05);
}
.card-header, .card-footer{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 16px; border-bottom:1px solid var(--card-border);
}
.card-footer{ border-top:1px solid var(--card-border); border-bottom:none; }
.card-body{ padding:16px; }
.muted{ color:var(--muted); }
.preview-row{ display:flex; align-items:center; justify-content:space-between; margin-bottom:10px; }
.skeleton-line{
  height:10px; border-radius:8px; background:color-mix(in srgb, var(--card) 85%, var(--bg) 15%);
  margin:10px 0;
}
.skeleton-line.short{ width:40%; }

/* ====== FORM SKAPA FAKTURA ====== */
#createInvoiceForm{ display:flex; flex-direction:column; gap:10px; }
#createInvoiceForm label{ font-weight:600; font-size:.95rem; }
#createInvoiceForm input{
  width:100%; padding:10px 12px; border-radius:10px;
  border:1px solid var(--card-border); background:var(--bg); color:var(--text);
}
.items-grid{ display:flex; flex-direction:column; gap:10px; margin-top:4px; }
.items-header{
  display:grid; grid-template-columns:1fr 140px; gap:10px;
  font-weight:700; color:var(--muted); padding:0 2px;
}
.items-body{ display:flex; flex-direction:column; gap:8px; }
.item-row{ display:grid; grid-template-columns:1fr 140px; gap:10px; }
.form-actions{ display:flex; justify-content:flex-end; margin-top:4px; }

/* ====== RESPONSIVT ====== */
@media (max-width:1024px){
  .invoices-layout{ grid-template-columns:1fr; }
  .create-panel{ position:static; }
}
@media (max-width:768px){
  .invoices-topbar{ flex-direction:column; align-items:stretch; gap:12px; }
  .btn-primary{ width:100%; }
  .items-header, .item-row{ grid-template-columns:1fr 120px; }
  .invoice-table th:last-child, .invoice-table td:last-child{ width:48px; }
}


/* ====== INVOICE TABLE ====== */
.invoice-table{
  width:100%; border-collapse:collapse;
  background:var(--card); border-radius:12px; overflow:hidden;
  box-shadow:0 2px 12px rgba(0,0,0,.05);
  border:1px solid var(--card-border);
}
.invoice-table th,
.invoice-table td{
  padding:14px 18px; text-align:left; border-bottom:1px solid var(--card-border);
  color:var(--text);
}
.invoice-table th{
  background:color-mix(in srgb, var(--card) 82%, var(--bg) 18%);
  font-weight:700; color:var(--text);
}
.invoice-table tr:hover{
  background:color-mix(in srgb, var(--card) 88%, var(--bg) 12%);
}

/* länkar i åtgärdskolumnen */
.invoice-table td a{
  color:var(--brand); text-decoration:underline; font-size:.95rem;
}
.invoice-table td a:hover{ filter:brightness(.9); }

/* ====== STATUS COLORS ====== */
.status{ font-weight:700; }
.status.paid{ color:var(--ok); }
/* varsam röd och gul som funkar i ljus/mörkt */
.status.overdue{ color:#ef4444; }
.status.delayed{ color:#f59e0b; }

/* ====== HAMBURGER (mobil) ====== */
.hamburger-menu{ display:none; }
@media (max-width:768px){
  .hamburger-menu{
    display:block; position:fixed; top:20px; left:20px; z-index:1400;
    font-size:28px; background:none; border:none; cursor:pointer; color:#1f2937;
  }
  body.menu-open .hamburger-menu{ color:#fff; }

  .main{ margin-left:0; padding:24px 16px; }
  .main .header, .main .subtitle{ margin-left:48px; }
}

/* ====== MOBIL SIDOPANEL (återanvänds från theme.css, men säkra här) ====== */
@media (max-width:768px){
  .sidebar{
    left:-240px; visibility:hidden; opacity:0; pointer-events:none;
    transition:left .28s ease, opacity .28s ease, visibility .28s ease;
  }
  .sidebar.active{ left:0; visibility:visible; opacity:1; pointer-events:auto; }
}

/* ====== Små förbättringar ====== */
.invoice-table td:last-child,
.invoice-table th:last-child{ width:160px; }
