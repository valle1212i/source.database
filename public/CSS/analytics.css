
/* Huvudinnehåll */
.main {
  padding: 40px;
  width: 100%;
  transition: all 0.3s ease;
  margin-left: 240px; /* Nytt: så sidomenyn inte täcker */
}

.main h1 {
  font-size: 28px;
  margin-bottom: 30px;
}

/* Kort och diagramkort */
.card,
.chart-card {
  background: #fff;
  border-radius: 12px;
  padding: 25px 30px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  margin-bottom: 30px;
}

/* Profilwrapper och ikon */
.profile-wrapper {
  position: fixed;
  top: 20px;
  right: 30px;
  z-index: 100;
}

.profile-icon {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  overflow: hidden;
  background-color: transparent;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
  transition: transform 0.3s ease;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  transform: scale(1);
}

.profile-icon img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  transition: transform 0.3s ease;
}

.profile-icon.open {
  transform: scale(1.3);
}

/* Dropdown-meny för profil */
.profile-dropdown {
  position: absolute;
  top: 50px;
  right: 0;
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
  padding: 12px;
  width: 200px;
  display: none;
  flex-direction: column;
  font-size: 14px;
}

.profile-dropdown a {
  text-decoration: none;
  color: #111827;
  padding: 8px 0;
  transition: background 0.2s;
}

.profile-dropdown a:hover {
  background-color: #f3f4f6;
  border-radius: 6px;
  padding-left: 6px;
}

.profile-email {
  color: #6b7280;
  font-size: 13px;
  margin-bottom: 6px;
}

/* Stora siffror */
.big-number {
  font-size: 26px;
  font-weight: bold;
  margin: 10px 0 20px;
}

/* Lista för mest sålda */
.bestsellers {
  list-style: none;
  padding-left: 0;
  margin-top: 15px;
}

.bestsellers li {
  font-size: 16px;
  margin-bottom: 8px;
}

/* Diagramlayout, 2 per rad */
.chart-row {
  display: flex;
  flex-wrap: wrap;
  gap: 30px;
  margin-bottom: 40px;
}

.chart-card {
  flex: 1 1 calc(50% - 15px);
}

.chart-card h3 {
  font-size: 18px;
  margin-bottom: 10px;
}

.chart-card canvas {
  width: 100% !important;
  height: 300px !important;
  max-height: 300px;
}

/* Rubrikrad med hamburgermeny och titel */
.header-row {
  display: flex;
  align-items: center; /* vertikal centrering */
  gap: 12px;           /* mellanrum mellan ikon och text */
}

/* Mörkt tema */
body.dark-theme {
  background-color: #121212;
  color: #f0f0f0;
}

body.dark-theme .card,
body.dark-theme .chart-card {
  background-color: #1f1f1f;
  box-shadow: 0 2px 10px rgba(0,0,0,0.4);
}

body.dark-theme .nav-menu a,
body.dark-theme .nav-menu a:visited,
body.dark-theme .nav-menu a:hover,
body.dark-theme .nav-menu a:focus,
body.dark-theme .nav-menu a:active {
  color: white !important;
  text-decoration: none;
}

body.dark-theme .nav-menu a:hover,
body.dark-theme .nav-menu a.active,
body.dark-theme .nav-menu li.active a {
  color: white;
  background-color: #2a2a2a;
  border-left: 4px solid #00bfa6;
  font-weight: bold;
}

/* --- MOBIL-OVERRIDE, måste ligga sist --- */
@media (max-width: 768px) {
  /* Sidoinnehåll ska inte tryckas åt höger på mobil */
  .main { margin-left: 0 !important; }

  /* Rubrikrad: placera hamburgare och titel i samma rad och centrera vertikalt */
  .header-row {
    display: flex;
    align-items: center;  /* vertikal centrering */
    gap: 12px;
    padding: 12px 16px 0;
  }

  /* Viktigt: gör hamburgaren "inline" inne i header-row (inte fixed) */
  .header-row .hamburger-menu {
    position: static;     /* tar bort position: fixed från globala regeln */
    margin: 0;
    z-index: auto;
  }

  /* Eftersom hamburgaren nu ligger i flödet behöver h1 ingen extra vänstermarginal */
  .main h1 { margin-left: 0; }

  /* Behåll färgbyte om menyn är öppen */
  body.menu-open .hamburger-menu { color: white; }
}
/* PV – ny layout */
.pv-head{display:flex;align-items:center;gap:12px;justify-content:space-between;margin-bottom:12px}
.pv-kpis{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;margin-bottom:18px}
.pv-kpi{background:var(--card-bg,#fff);border:1px solid rgba(0,0,0,.05);border-radius:14px;padding:14px}
.pv-kpi-title{font-size:12px;color:#64748b;text-transform:uppercase;letter-spacing:.03em}
.pv-kpi-value{font-size:30px;font-weight:800;margin-top:4px}
.pv-kpi-sub{font-size:12px;color:#94a3b8;margin-top:2px}
.pv-block{margin-top:14px}
.pv-block-title{font-weight:600;margin:0 0 8px}
.pv-table-wrap{max-height:260px;overflow:auto;border:1px solid rgba(0,0,0,.06);border-radius:10px}
.pv-table{width:100%;border-collapse:collapse;font-size:14px}
.pv-table th,.pv-table td{padding:10px 12px;border-bottom:1px solid rgba(0,0,0,.05)}
.pv-table tbody tr:hover{background:rgba(0,0,0,.02)}
.pv-empty{color:#94a3b8;text-align:center}
/* === Legacy KPI look (remove card boxes & stack vertically) === */
.kpi-grid{
  grid-template-columns: 1fr;   /* one column like before */
  gap: 8px;
  margin: 6px 0 12px;
}

.kpi-card{
  background: transparent;
  box-shadow: none;
  border-radius: 0;
  padding: 0;
  position: static;
}

.kpi-card .icon{ display: none; }   /* hide corner icon */

.kpi-title{
  margin: 0 0 2px;
  font-size: 14px;
  color: #111827;                  /* darker like old */
  text-transform: none;            /* no ALL CAPS */
  letter-spacing: 0;
}

.big-number{
  font-size: 28px;
  font-weight: 600;
  margin: 0;
}

.subtle{
  color: #6b7280;
  font-size: 12px;
  margin-top: 4px;
}
/* ==== GEO layout (kompakt) ==== */
.map-grid{
  display:grid;
  grid-template-columns: 1fr 420px;   /* Globen tar resten, Europa fast 420px */
  gap:16px;
}

.map-card{ position:relative; }

/* Viktigt: ge yta, men inte för stor */
#globeContainer{
  width:100%;
  height:360px;       /* var 420px – nu mindre */
  max-height:360px;
  border-radius:16px;
  background:#0b1220;
}

#mapEurope{
  width:100%;
  height:360px;
  max-height:360px;
  border-radius:16px;
}

/* mobil */
@media (max-width: 1000px){
  .map-grid{ grid-template-columns: 1fr; }
  #globeContainer, #mapEurope{ height:320px; max-height:320px; }
}

/* runda kanter även på canvas */
#globeContainer canvas{ border-radius:16px; }

#mapEurope, #globeContainer { min-height: 360px; }

  #europeMapSvg { width: 100%; height: auto; display: block; }
  #europeMapSvg .eu-region { cursor: pointer; transition: fill 160ms ease; }
  #europeMapSvg .eu-region:hover { filter: brightness(0.95); }
  #svgTooltip {
    position:absolute; pointer-events:none; padding:6px 8px; background:#111827;
    color:#fff; font-size:12px; border-radius:8px; display:none; z-index:20;
  }
  :root{
    --card-bg:#fff; --card-border:#e9e9ef; --ink:#0f1222; --muted:#6b7280;
    --shadow:0 10px 22px rgba(16,24,40,.06); --radius:16px;
  }
  
  /* hero */
  .dash-hero{display:flex;align-items:center;justify-content:space-between;gap:16px;margin:12px 0 18px}
  .dash-hello h1{font-size:24px;margin:0;color:var(--ink)}
  .dash-hello p{margin:6px 0 0;color:var(--muted)}
  .dash-actions{display:flex;align-items:center;gap:10px}
  .chip,.icon-btn{border:1px solid var(--card-border);background:#fff;cursor:pointer}
  .chip{display:flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px}
  .icon-btn{width:36px;height:36px;border-radius:10px;display:grid;place-items:center}
  .icon-btn:hover,.chip:hover{box-shadow:var(--shadow)}
  
  /* summary */
  .ms-wrap{background:#f7f7fb;border-radius:22px;padding:16px;margin-bottom:22px}
  .ms-head{display:flex;justify-content:space-between;align-items:center}
  .ms-head-left{display:flex;align-items:center;gap:10px;font-weight:600}
  .ms-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:16px;margin-top:14px}
  @media (max-width:1100px){.ms-grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
  @media (max-width:680px){.ms-grid{grid-template-columns:1fr}}
  
  .ms-card{background:var(--card-bg);border:1px solid var(--card-border);border-radius:var(--radius);padding:16px;box-shadow:var(--shadow)}
  .ms-card header{display:flex;justify-content:space-between;align-items:center}
  .ms-card .title{display:flex;align-items:center;gap:8px;font-weight:700}
  .ms-card .eyebrow{margin:8px 0 10px;color:var(--muted);font-size:12px}
  .kpi-row{display:flex;align-items:center;justify-content:space-between}
  .kpi-value{font-size:28px;font-weight:800;letter-spacing:.2px}
  .kpi-value .muted{font-size:16px;font-weight:600;color:var(--muted);margin-left:6px}
  .kpi-badge{font-size:12px;padding:6px 8px;border-radius:10px;font-weight:700;border:1px dashed var(--card-border);background:#fff;color:var(--muted)} /* tom badge-look */
  
  /* mini spark bars container – fylls av JS senare */
  .mini-bars{display:grid;grid-template-columns:repeat(6,1fr);gap:8px;margin-top:14px}
  .mini-bars::before{content:"";grid-column:1/-1;height:0} /* behåll höjd utan data */
  .mini-bars .bar{height:44px;background:#eef2ff;border-radius:10px;border:1px solid #e6e9ff}
  .tiny{font-size:12px}.muted{color:var(--muted)}
  /* --- KPI-grid --- */
.ms-grid{
  display:grid;
  gap:24px;
  grid-template-columns:repeat(3,minmax(260px,1fr));
}
@media (max-width:1100px){ .ms-grid{ grid-template-columns:repeat(2,minmax(260px,1fr)); } }
@media (max-width:720px){ .ms-grid{ grid-template-columns:1fr; } }

/* --- Badge uppe till höger --- */
.kpi-row{ display:flex; justify-content:space-between; align-items:flex-start; gap:12px; }
.kpi-badge{
  font-weight:600; font-size:.875rem;
  padding:.25rem .5rem; border-radius:10px;
  background:#F3F4F6; color:#6B7280;   /* neutral/0% */
}
.kpi-badge.up{ background:#E7F7EF; color:#0F9D58; }    /* grön */
.kpi-badge.down{ background:#FDE8E8; color:#D93025; }  /* röd */

/* --- Mini-bars (små månadsstaplar) --- */
.mini-bars{
  display:flex; align-items:flex-end; gap:8px;
  height:56px; margin-top:8px;
}
.mini-bars .bar{
  flex:1; background:#E5E7EB; border-radius:8px; position:relative;
  overflow:hidden; height:100%;
}
.mini-bars .bar .fill{
  position:absolute; bottom:0; left:0; right:0;
  border-radius:8px;
  background:#A5B4FC;                 /* samma blå som i exemplet */
  min-height:6px;                      /* visar “något” även för 0 */
}
.mini-bars .bar.zero .fill{ background:#E5E7EB; min-height:6px; } /* 0 = ljusgrå topp */
.mini-bars + .tiny{ margin-top:8px; }

/* Gör geo-kortet fullbrett när det ligger under gridet */
.geo-wrap, .geo-card{ margin-top:28px; }
.geo-card{ border-radius:16px; background:#fff; box-shadow:0 1px 3px rgba(0,0,0,.06); padding:16px; }
/* --- Tvinga GEO under KPI-korten och i full bredd --- */
.chart-card{
  display:block;
  width:100%;
  margin-top:24px;

  /* Om föräldern är CSS Grid: spänn hela raden */
  grid-column: 1 / -1;

  /* Om föräldern är Flex: ta hela raden */
  flex-basis: 100%;
}

/* Säkerställ att KPI-blocket också beter sig som en hel rad */
.ms-wrap{
  display:block;
  width:100%;
}

/* Om du råkar ha floats någonstans: bryt under dem */
.chart-card{ clear: both; }
/* standard: 2 kort per rad */
.chart-row > .chart-card { flex: 1 1 calc(50% - 15px); }

/* GEO ska bryta raden och vara fullbredd */
.chart-row > .chart-card.geo-full{
  flex: 0 0 100%;      /* viktig: överskriv grow/shrink OCH basis */
  width: 100%;
  grid-column: 1 / -1; /* om behålls i grid */
  clear: both;
}
/* gör GEO 100% i alla lägen */
.chart-card.geo-full{
  display:block;
  width:100%;
  clear:both;
  flex:0 0 100% !important;   /* om förälder är flex */
  grid-column:1 / -1 !important; /* om förälder är grid */
}
.chart-card.geo-full {
  width: 100%;
  flex: 0 0 100% !important;   /* om föräldern använder flexbox */
  grid-column: 1 / -1 !important; /* om föräldern använder grid */
  clear: both;  /* om föräldern använder float-layout */
  margin-top: 24px;
}
.chart-card.geo-full{
  width:100%;
  flex:0 0 100% !important;      /* om föräldern är flex (.chart-row) */
  grid-column:1 / -1 !important;  /* om föräldern är grid */
  clear:both;
  margin-top:24px;
}
/* Stäng av flex-layouten på body */
body { display: block !important; }

/* Hindra att sidan kan skrolla horisontellt om något sticker ut */
html, body { overflow-x: hidden; }
/* Se till att huvudinnehållet inte ligger under menyn */
.main {
  margin-left: 240px !important;
  width: calc(100% - 240px) !important;
}
/* ===== FIX: Gör plats för den fasta sidomenyn på desktop ===== */
@media (min-width: 769px) {
  /* Skjut hela sidan till höger så den inte hamnar under menyn */
  body { padding-left: 240px !important; }

  /* Neutralisera ev. gamla regler på .main som bråkar */
  .main { margin-left: 0 !important; width: auto !important; }
}

/* Ingen vänsterpadding på mobil */
@media (max-width: 768px) {
  body { padding-left: 0 !important; }
}

/* Stoppa horisontell scroll/”dra åt höger”-problemet */
html, body { max-width: 100%; overflow-x: hidden; }
/* --- Statistiska siffror --- */
.stat-grid{
  display:grid;
  grid-template-columns: 2fr 1fr;   /* sidor större, webbläsare mindre */
  gap:16px;
}
@media (max-width: 900px){
  .stat-grid{ grid-template-columns: 1fr; }
}

.stat-card{ background:#fff; border-radius:12px; padding:16px; border:1px solid #e9e9ef; }
.stat-card h4{ margin:0 0 10px; }

/* Tabell */
.table-wrap{ overflow:auto; border:1px solid #eee; border-radius:10px; }
.stat-table{ width:100%; border-collapse:collapse; font-size:14px; }
.stat-table th, .stat-table td{ padding:10px 12px; border-bottom:1px solid #f1f1f6; }
.stat-table thead th{ background:#fafbff; text-align:left; color:#4b5563; font-weight:600; }
.stat-table td.num, .stat-table th.num{ text-align:right; }
.stat-table tbody tr:hover{ background:#fafafa; }

/* Webbläsare-lista */
.browser-list{ list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:10px; }
.browser-item{ display:flex; align-items:center; gap:10px; }
.browser-name{ min-width:90px; color:#374151; }
.browser-bar{ flex:1; height:10px; background:#E5E7EB; border-radius:999px; overflow:hidden; }
.browser-fill{ height:100%; background:#A5B4FC; }   /* samma blå som mini-bars */
.browser-pct{ width:48px; text-align:right; color:#6B7280; font-size:13px; }
/* Placera extra-kortet i högerspalten under Webbläsare */
.ms-grid.ms-grid--stats .col-right{ grid-column: 2; }
@media (max-width:1100px){ .ms-grid.ms-grid--stats .col-right{ grid-column:auto; } }

/* Liten meny i headern */
.ms-card header{ position:relative; }
.menu-wrap{ position:relative; }
.menu{
  position:absolute; right:0; top:100%;
  background:#fff; border:1px solid var(--card-border);
  box-shadow:var(--shadow); border-radius:10px; padding:6px;
  display:none; min-width:210px; z-index:20;
}
.menu.open{ display:block; }
.menu-item{
  width:100%; text-align:left; background:none; border:0;
  padding:8px 10px; border-radius:8px; cursor:pointer; font:inherit;
}
.menu-item:hover{ background:#f3f4f6; }

/* 2 kolumner i “Statistiska siffror” så det matchar Marknadsöversikt */
.ms-grid.ms-grid--stats{
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap:16px;
}

/* Placera Exakta siffror i högra kolumnen */
.ms-grid.ms-grid--stats .col-right{ grid-column: 2; }
@media (max-width:1100px){
  .ms-grid.ms-grid--stats{ grid-template-columns: 1fr; }
  .ms-grid.ms-grid--stats .col-right{ grid-column: auto; }
}

/* Liten dropdown-meny i kort-headern */
.ms-card header{ position:relative; }
.menu-wrap{ position:relative; }
.menu{
  position:absolute; right:0; top:100%;
  background:#fff; border:1px solid var(--card-border);
  box-shadow:var(--shadow); border-radius:10px; padding:6px;
  display:none; min-width:210px; z-index:20;
}
.menu.open{ display:block; }
.menu-item{
  width:100%; text-align:left; background:none; border:0;
  padding:8px 10px; border-radius:8px; cursor:pointer; font:inherit;
}
.menu-item:hover{ background:#f3f4f6; }
/* 2x2-grid för Statistiska siffror */
.stats-grid{
  display: grid;
  grid-template-columns: repeat(2, minmax(320px, 1fr));
  gap: 16px;
}

/* Se till att korten inte beter sig som flex-”halvor” */
.stats-grid .ms-card{
  width: auto;         /* neutralisera ev. flex-bredd */
  flex: initial;       /* om det ärvts från .chart-row-regler */
}

/* Mobil: stacka 1 kolumn */
@media (max-width: 900px){
  .stats-grid{ grid-template-columns: 1fr; }
}
